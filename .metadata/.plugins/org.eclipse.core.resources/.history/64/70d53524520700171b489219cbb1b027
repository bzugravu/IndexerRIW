package HtmlParserApp;

import java.io.File;
import java.io.IOException;
import java.io.PrintWriter;
import java.io.UnsupportedEncodingException;
import java.util.ArrayList;
import java.util.List;

public class Main {

	public static void main(String[] args) throws IOException, UnsupportedEncodingException {
		PrintWriter indexFile = new PrintWriter("indexFile.txt", "UTF-8");
		Helper helper = new Helper();
		helper.SetStopWordsList();
		
		List<File> htmlFiles = new ArrayList<File>();
		htmlFiles = helper.GetAllFiles("/D:/workspace/RIW/WorkingDirectory", ".htm", ".html");
		
		for(File item : htmlFiles){
			System.out.print(item.getName());
			System.out.println(" Path:"+ item.getPath());
			
			File input = new File(item.getPath());
			try{
				helper.PopulateDictionary(input);
				helper.WriteIndexer(item);
				indexFile.println(item.getPath());
				indexFile.println(item.getName());
				indexFile.println();
			}catch (Exception e) {
				e.printStackTrace();
			}
		}
		indexFile.close();
		
		List<File> indexFiles = new ArrayList<File>();
		//indexFiles = helper.GetAllIndexers("/D:/workspace/RIW/Lab01");
		indexFiles = helper.GetAllFiles("/D:/workspace/RIW/Lab01", ".htm.json", ".html.json");
		for(File item : indexFiles){
			System.out.println(item.getName());
		}
		
		//helper.InvertedIndex(indexFiles);
		
	}

}
