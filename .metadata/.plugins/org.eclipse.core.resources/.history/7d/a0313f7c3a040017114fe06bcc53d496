package HtmlParserApp;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.PrintWriter;
import java.io.UnsupportedEncodingException;
import java.util.ArrayList;
import java.util.List;

public class Main {

	public static void main(String[] args) throws IOException, UnsupportedEncodingException {
		// TODO Auto-generated method stub
		PrintWriter indexFile = new PrintWriter("indexFile.txt", "UTF-8");
		Helper helper = new Helper();
		helper.SetStopWordsList();
		/*File input = new File("/D:/workspace/RIW/wikipediaTest.html");
		try {
			helper.ParseDocument(input);
			helper.PopulateDictionary(input);
			System.out.println(helper.myDictionary);
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}*/
		
		List<File> htmlFiles = new ArrayList<File>();
		htmlFiles = helper.GetAllHtmlFilesFromDirectory("/D:/workspace/RIW/WorkingDirectory");
		
		for(File item : htmlFiles){
			System.out.print(item.getName());
			System.out.println(" Path:"+ item.getPath());
			
			File input = new File(item.getPath());
			try{
				//helper.ParseDocument(input);
				helper.PopulateDictionary(input);
				helper.WriteIndexer(item);
				indexFile.println(item.getPath());
				indexFile.println(item.getName());
				indexFile.println();
			}catch (Exception e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		}
		indexFile.close();
		
		List<File> indexFiles = new ArrayList<File>();
		indexFiles = helper.GetAllIndexers("/D:/workspace/RIW/Lab01");
		for(File item : indexFiles){
			System.out.println(item.getName());
		}
		
		
		
	}

}
